name: Run

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [0 5,5 10,10 15,15 20,20 25,25 30,30 35,35 40,40 45,45 50,50 55,55 60,60 65,65 70,70 75,75 80,80 85,85 90,90 95,95 100,100 105,105 110,110 115,115 120,120 125,125 130,130 135,135 140,140 145,145 150,150 155,155 160,160 165,165 170,170 175,175 180,180 185,185 190,190 195,195 200,200 205,205 210,210 215,215 220,220 225,225 230,230 235,235 240,240 245,245 250,250 255,255 260,260 265,265 270,270 275,275 280,280 285,285 290,290 295,295 300,300 305,305 310,310 315,315 320,320 325,325 330,330 335,335 340,340 345,345 350,350 355,355 360,360 365,365 370,370 375,375 380,380 385,385 390,390 395,395 400,400 405,405 410,410 415,415 420,420 425,425 430,430 435,435 440,440 445,445 450,450 455,455 460,460 465,465 470,470 475,475 480,480 485,485 490,490 495,495 500,500 505,505 510,510 515,515 520,520 525,525 530,530 535,535 540,540 545,545 550,550 555,555 560,560 565,565 570,570 575,575 580,580 585,585 590,590 595,595 600,600 605,605 610,610 615,615 620,620 625,625 630,630 635,635 640,640 645,645 650,650 655,655 660,660 665,665 670,670 675,675 680,680 685,685 690,690 695,695 700,700 705,705 710,710 715,715 720,720 725,725 730,730 735,735 740,740 745,745 750,750 755,755 760,760 765,765 770,770 775,775 780,780 785,785 790,790 795,795 800,800 805,805 810,810 815,815 820,820 825,825 830,830 835,835 840,840 845,845 850,850 855,855 860,860 865,865 870,870 875,875 880,880 885,885 890,890 895,895 900,900 905,905 910,910 915,915 920,920 925,925 930,930 935,935 940,940 945,945 950,950 955,955 960,960 965,965 970,970 975,975 980,980 985,985 990,990 995,995 1000,1000 1005,1005 1010,1010 1015,1015 1020,1020 1025,1025 1030,1030 1035,1035 1040,1040 1045,1045 1050,1050 1055,1055 1060,1060 1065,1065 1070,1070 1075,1075 1080,1080 1085,1085 1090,1090 1095,1095 1100,1100 1105,1105 1110,1110 1115,1115 1120,1120 1125,1125 1130,1130 1135,1135 1140,1140 1145,1145 1150,1150 1155,1155 1160,1160 1165,1165 1170,1170 1175,1175 1180,1180 1185,1185 1190,1190 1195,1195 1200,1200 1205,1205 1210,1210 1215,1215 1220,1220 1225,1225 1230,1230 1235,1235 1240,1240 1245,1245 1250]
    steps:
      - uses: actions/checkout@v4
      - name: Install Dependencies
        uses: actions/setup-python@v5
        with:
          python-version: 3.12
      - name: Install
        run: |
          python -m pip install --upgrade pip wheel setuptools
          python -m pip install selenium
          python -m pip install supabase
          sudo apt install -y google-chrome-stable
          sudo apt install -y xvfb
          export DISPLAY=:0
          /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
          sleep 5
          xvfb-run python run-t.py ${{matrix.RangeIndex}}
      - name: done
        run: exit
